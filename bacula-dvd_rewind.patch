--- bacula-5.0.3/src/stored/dev.c.orig	2010-08-05 16:29:51.000000000 +0200
+++ bacula-5.0.3/src/stored/dev.c	2010-09-21 09:53:25.000000000 +0200
@@ -832,7 +832,7 @@
          }
          break;
       }
-   } else if (is_file() || is_dvd()) {
+   } else if (dcr && (is_file() || is_dvd())) {
       if (lseek(dcr, (boffset_t)0, SEEK_SET) < 0) {
          berrno be;
          dev_errno = errno;
